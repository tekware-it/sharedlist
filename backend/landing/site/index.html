<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SharedList</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        margin: 32px;
        color: #111;
      }
      .card {
        max-width: 560px;
        margin: 0 auto;
        padding: 24px;
        border: 1px solid #e5e5e5;
        border-radius: 12px;
      }
      .button {
        display: inline-block;
        margin-top: 12px;
        padding: 10px 16px;
        background: #111;
        color: #fff;
        text-decoration: none;
        border-radius: 8px;
      }
      .muted {
        color: #666;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="card">
      <h1>Open SharedList</h1>
      <p>Open this shared list in the app.</p>
      <a id="open-link" class="button" href="#">Open in app</a>
      <p class="muted">
        If the app is not installed, you can install it from your app store.
      </p>
    </div>
    <script>
      (function () {
        var key = window.location.hash.replace(/^#/, "");
        if (key.startsWith("k=")) {
          key = key.slice(2);
        }
        var path = window.location.pathname || "";
        var match = path.match(/\\/l\\/([^/]+)/);
        var listId = match ? match[1] : "";
        var deepLink =
          "sharedlist://l/" + listId + (key ? "#" + key : "");
        var btn = document.getElementById("open-link");
        if (btn) {
          btn.setAttribute("href", deepLink);
        }
      })();
    </script>
  </body>
</html>
